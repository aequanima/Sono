<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sonō - Sound Matching Game for Early Intervention Therapy</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Sono (Sonō) is a free sound matching game for toddlers in early intervention therapy. Build positive associations with sounds through controlled auditory discrimination activities.">
    <meta name="keywords" content="sono, sonō, sound matching game, auditory discrimination, early intervention, therapy game, toddler therapy, sound therapy, autism therapy, sensory processing, speech therapy, sound sensitivity">
    <meta name="author" content="Dendrite AT">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Sonō - Sound Matching Game for Therapy">
    <meta property="og:description" content="Free auditory discrimination game for toddlers. Help children build positive associations with sounds through controlled matching activities.">
    <meta property="og:url" content="https://dndrt.com/sono">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Sonō - Sound Matching Game">
    <meta name="twitter:description" content="Free auditory discrimination game for early intervention therapy with toddlers.">
    
    <script>
        (function() {
            try {
                var theme = localStorage.getItem('sono-theme');
                if (theme) {
                    document.addEventListener('DOMContentLoaded', function() {
                        document.body.classList.add(theme);
                    });
                }
            } catch (e) {
                console.error('Could not apply theme from localStorage', e);
            }
        })();
    </script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <div id="start-screen" class="screen active">
            <div class="utility-tray">
                <button class="utility-btn" id="logo-btn" aria-label="Visit Dendrite AT" title="Visit Dendrite AT" data-i18n-aria="visitDendriteAT" data-i18n-title="visitDendriteAT">
                    <svg viewBox="0 0 284.59748 285.05746" xmlns="http://www.w3.org/2000/svg">
                        <g transform="translate(-155.87645,-254.24692)">
                            <path d="m 443,523.2 c 0.1,-0.5 0.2,0.2 0.2,0.3 -0.2,0.3 -0.2,0 -0.2,-0.2 v -0.2 z" />
                            <path d="m 180,465.3 c -8.4,-2.2 -15.6,-9.3 -20.2,-16.6 -7.7,-11.9 -3.2,-26.1 6,-35.8 10.7,-11.8 21.8,-13 35.9,-17.3 8.9,-3.1 16.6,-9.8 21,-18.2 4.1,-7.9 5.5,-18.2 9,-26.4 3.6,-8.4 10.5,-15.1 18.1,-20.1 7.3,-4.9 16.1,-5.8 24.2,-2.4 11.8,4.4 21,15.8 21.7,28.5 0.2,9 -5.8,17.6 -12,24.1 -5.8,6.2 -13.1,9.9 -21.4,11.8 -8.3,2.1 -17.4,4.1 -24.1,9.6 -5.6,4.6 -10,11.3 -12.2,18 -1.6,5 -2.1,10.1 -3.6,15.1 -4.6,16.4 -24.3,33.7 -42.1,29.9 h -0.4 z" />
                            <path d="m 324.4,464.7 c -9,-3.3 -16.8,-10 -20.4,-19 -8.4,-18.5 4.9,-36.6 25.3,-44.6 10.3,-3.9 22.3,-5.2 30.7,-12.4 15.3,-12.7 12.1,-26.5 19.4,-41.9 3.7,-7 9.8,-12.7 17.3,-16.8 7.1,-4.2 15.2,-4.9 22.7,-1.6 35.9,15.8 21.9,57.4 -11.8,64.6 -17.5,3.9 -30.6,9.6 -36.2,27.3 -2.4,7.1 -3.9,16 -6.9,22.6 -6.5,14.1 -23.6,27.7 -39.7,21.9 h -0.4 z" />
                            <path d="m 329,391.8 c -12.8,-4.9 -23,-15.1 -26.7,-28.7 -1.5,-5.2 -2.6,-10.8 -4.2,-15.9 -3.3,-10 -11.1,-18.3 -20.7,-22.2 -13.4,-4.9 -26.3,-5 -36.9,-16.1 -9.1,-8.7 -14.6,-21 -9.6,-33.4 2.6,-7.1 8.9,-13.7 15.7,-17.7 10.3,-6.5 22.6,-3.4 31.7,3.8 9.1,6.4 14.9,15.8 17.3,26.8 1.3,5.3 2.2,10.6 4.5,15.5 4.3,9 12.6,16 22.2,19.2 6,2.1 13.2,3.5 19.2,5.9 13.8,5.1 26.6,18.9 26.3,34 -1.5,17.7 -20.3,34.9 -38.3,29 h -0.4 z" />
                            <path d="m 330.2,538.4 c -12.7,-3.8 -23.8,-16 -27.8,-29 -1.5,-4.8 -1.9,-9.6 -3.4,-14.4 -3.8,-12.5 -13.7,-22.7 -26.4,-26.5 -7.4,-2.4 -15.4,-3.5 -22.3,-7.3 -8.1,-4.3 -14.8,-11.1 -18.8,-19.3 -12,-21 13.9,-48.4 35.4,-41.9 11.9,4 23.2,15.1 26.9,27.3 3.9,12.7 4.1,24.1 15.2,33.3 11.2,11.2 25.3,9.4 38.2,16.5 13.6,8.2 25.2,23.5 19.4,40.2 -4.9,14.3 -20.9,25.1 -35.9,21.2 h -0.3 z" />
                        </g>
                    </svg>
                </button>
                <button class="utility-btn" id="localization-btn" aria-label="Language Settings" title="Language Settings" data-i18n-aria="languageSettings" data-i18n-title="languageSettings">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="2" y1="12" x2="22" y2="12"/>
                        <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                    </svg>
                </button>
                <button class="utility-btn" id="vision-btn" aria-label="Vision Accessibility" title="Vision Accessibility" data-i18n-aria="visionAccessibility" data-i18n-title="visionAccessibility">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                        <circle cx="12" cy="12" r="3"/>
                    </svg>
                </button>
            </div>
            <div class="container">
                <h1 class="title" data-i18n="sono">Sonō</h1>
                <div class="button-group">
                    <button class="neu-button" id="create-btn" data-i18n="createNewList">Create New List</button>
                    <button class="neu-button" id="retrieve-btn" data-i18n="retrieveList">Retrieve List</button>
                </div>
                <div id="passphrase-input-container" class="hidden">
                    <input type="text" id="passphrase-input" class="neu-input" placeholder="Enter passphrase" data-i18n="enterPassphrase">
                    <button class="neu-button" id="load-btn" data-i18n="load">Load</button>
                </div>
            </div>
        </div>

        <div id="entry-screen" class="screen">
            <div class="entry-screen-wrapper">
                <button class="settings-icon-btn entry-settings-btn" id="entry-settings-btn" aria-label="Settings" title="Settings">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                    </svg>
                </button>
                <div id="subject-count" class="subject-count-fixed">0 subjects</div>
                <div class="container">
                    <div id="animation-layer"></div>
                    <div class="entry-area">
                        <div id="autocomplete-container" class="autocomplete-container"></div>
                        <div class="input-row">
                            <input type="text" id="subject-input" class="neu-input subject-input" placeholder="Enter a subject" data-i18n="enterSubject">
                            <button class="neu-button" id="enter-btn" data-i18n="enter">Enter</button>
                            <button class="neu-button primary" id="save-btn" data-i18n="save">Save</button>
                        </div>
                        <div id="subject-list" class="subject-list"></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="game-screen" class="screen">
            <button class="settings-icon-btn" id="print-btn" aria-label="Print Bingo Cards" title="Print Bingo Cards">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="6 9 6 2 18 2 18 9"></polyline>
                    <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path>
                    <rect x="6" y="14" width="12" height="8"></rect>
                </svg>
            </button>
            <div class="game-container">
                <button id="audio-indicator" class="audio-indicator" aria-label="Replay Sound" title="Replay Sound">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                        <path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path>
                        <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                    </svg>
                </button>
                <div id="card-grid" class="card-grid"></div>
                <div id="game-complete-section" class="game-complete-section hidden">
                    <button class="neu-button primary large" id="play-again-btn" data-i18n="playAgain">Play Again</button>
                    <div id="game-stats" class="game-stats"></div>
                </div>
            </div>
        </div>

        <div id="passphrase-modal" class="modal hidden">
            <div class="modal-content neu-card">
                <button class="modal-close" id="modal-close-btn">×</button>
                <h2 data-i18n="yourPassphrase">Your Passphrase</h2>
                <div class="passphrase-display" id="passphrase-display"></div>
                <div class="modal-actions">
                    <button class="neu-button" id="copy-btn" data-i18n="copy">Copy</button>
                    <button class="neu-button" id="share-btn" data-i18n="share">Share</button>
                    <button class="neu-button primary" id="proceed-btn" data-i18n="proceed">Proceed</button>
                </div>
            </div>
        </div>
    </div>

    <div id="language-panel" class="language-panel">
        <div class="language-panel-header">
            <h3 data-i18n="languageSettings">Language Settings</h3>
            <button class="panel-close-btn" id="language-panel-close" aria-label="Close">×</button>
        </div>
        <div id="language-list" class="language-list"></div>
    </div>

    <div id="settings-modal" class="modal hidden">
        <div class="modal-content neu-card">
            <button class="modal-close" id="settings-modal-close">×</button>
            <h2 data-i18n="gameSettings">Game Settings</h2>
            <div class="settings-content">
            <div class="setting-group">
                <label data-i18n="gridSize">Grid Size</label>
                <select id="grid-size-select" class="neu-input">
                    <option value="4">4 cards (2x2)</option>
                    <option value="6" selected>6 cards (2x3)</option>
                    <option value="9">9 cards (3x3)</option>
                    <option value="16">16 cards (4x4)</option>
                    <option value="25">25 cards (5x5)</option>
                </select>
            </div>
            <div class="setting-group">
                <label data-i18n="visualMode">Visual Mode</label>
                <select id="visual-mode-select" class="neu-input">
                    <option value="graphic" selected data-i18n="graphics">Graphics</option>
                    <option value="photos" data-i18n="photos">Photos</option>
                </select>
            </div>
            <div class="setting-group">
                <label data-i18n="cardBehavior">Card Behavior</label>
                <select id="card-behavior-select" class="neu-input">
                    <option value="remove" selected data-i18n="removeCards">Remove Cards</option>
                    <option value="crossout" data-i18n="crossOut">Cross Out</option>
                </select>
            </div>
            <div class="setting-group">
                <label data-i18n="masterVolume">Sound Volume</label>
                <input type="range" id="master-volume-slider" min="0" max="100" value="70" class="slider">
            </div>
            <div class="setting-group">
                <label data-i18n="feedbackVolume">Feedback Volume</label>
                <input type="range" id="feedback-volume-slider" min="0" max="100" value="50" class="slider">
            </div>
            <div class="setting-group">
                <label>
                    <input type="checkbox" id="cueing-enabled-checkbox">
                    <span data-i18n="enableCueing">Enable Visual Cueing</span>
                </label>
            </div>
            <div class="setting-group">
                <label data-i18n="cueDelay">Cue Delay (seconds)</label>
                <input type="range" id="cue-delay-slider" min="0" max="20" value="3" step="1" class="slider">
            </div>
            <div class="setting-group">
                <label data-i18n="cueIntensity">Cue Intensity</label>
                <select id="cue-intensity-select" class="neu-input">
                    <option value="subtle" data-i18n="subtle">Subtle</option>
                    <option value="gentle" selected data-i18n="gentle">Gentle</option>
                    <option value="obvious" data-i18n="obvious">Obvious</option>
                </select>
            </div>
            <div class="setting-group">
                <label data-i18n="cueType">Cue Type</label>
                <select id="cue-type-select" class="neu-input">
                    <option value="glow" selected data-i18n="glow">Glow</option>
                    <option value="wiggle" data-i18n="wiggle">Wiggle</option>
                    <option value="bounce" data-i18n="bounce">Bounce</option>
                </select>
            </div>
            </div>
        </div>
    </div>

    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-spinner"></div>
    </div>

    <div id="print-modal" class="modal hidden">
        <div class="modal-content neu-card">
            <button class="modal-close" id="print-modal-close">×</button>
            <h2 data-i18n="printOptions">Print Options</h2>
            <div class="settings-content">
                <div class="setting-group">
                    <label data-i18n="printType">Print Type</label>
                    <select id="print-type-select" class="neu-input">
                        <option value="bingo" selected data-i18n="bingoCards">Bingo Cards</option>
                        <option value="cue3" data-i18n="cueCards3x3">Cue Cards (3×3")</option>
                        <option value="cue4" data-i18n="cueCards4x4">Cue Cards (4×4")</option>
                    </select>
                </div>
                <div id="bingo-options">
                    <div class="setting-group">
                        <label data-i18n="numberOfSheets">Number of Sheets</label>
                        <input type="number" id="num-sheets" class="neu-input" min="1" max="100" value="1">
                    </div>
                    <div class="setting-group">
                        <label data-i18n="gridRows">Rows</label>
                        <input type="number" id="print-grid-rows" class="neu-input" min="2" max="10" value="5">
                    </div>
                    <div class="setting-group">
                        <label data-i18n="gridColumns">Columns</label>
                        <input type="number" id="print-grid-cols" class="neu-input" min="2" max="10" value="5">
                    </div>
                </div>
                <div class="modal-actions">
                    <button class="neu-button primary" id="generate-print-btn" data-i18n="generatePDF">Generate PDF</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/Flip.min.js"></script>
    <script src="localization.js"></script>
    <script src="toast.js"></script>
    <script src="audio.js"></script>
    <script src="settings.js"></script>
    <script src="print.js"></script>
    <script src="cards.js"></script>
    <script src="app.js"></script>
</body>
</html>
